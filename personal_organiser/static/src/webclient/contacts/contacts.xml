<?xml version="1.0" encoding="utf-8" ?>
<templates xml:space="preserve">
    <t t-name="personal_organiser.orgcontacts">
        <div>
           <div class="align-items-center mb-4">
               <h2 class="text-center mb-0">Contacts</h2>
                <!-- Create Contact Button -->
                    <button class="btn-danger me-3" style="width: 100%;" t-on-click="toggleInputFields">
                        <t t-if="!state.showInputFields">Create new contact</t>
                        <t t-else="">Cancel</t>
                    </button>
                <!-- Contacts Heading with flex-grow -->
           </div>
           <div t-if="state.showInputFields" class="mt-3">
                <input type="text" placeholder="Name" t-model="state.name" />
                <input type="email" placeholder="Email" t-model="state.email" />
                <button class="btn btn-success" t-on-click="createContact"
                        t-att-disabled="!(state.name and state.email)">
                    Save
                </button>
           </div>
           <!--show contacts as cards-->
           <div style="padding-left:0px;">
                <div style="max-height:810px; overflow-y: auto;">
                    <t t-foreach="state.contacts" t-as="contact"
                       t-key="contact.id"
                       class="list-group-item d-flex
                                 justify-content-between align-items-center">
                       <div class="card" style="width:100%;">
                            <div class="card-body align-items-center"
                                 style=" text-wrap: wrap; ">
                                <h5 class="mb-1" style="padding-left:5px  ">
                                    <a t-att-href="'/web#id=' + contact.id +
                                                    '&amp;model=res.partner'"
                                       t-esc="contact.name"
                                       class="text-decoration-none"
                                       target="_blank">
                                    </a><br/>
                                    <t t-esc="contact.email"/>
                                </h5>
                            </div>
                       </div>
                    </t>
                </div>
           </div>
        </div>
    </t>
</templates>
